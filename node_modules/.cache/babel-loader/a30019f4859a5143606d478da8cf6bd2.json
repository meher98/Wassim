{"ast":null,"code":"import _objectSpread from\"D:/meher/Bureau/Projet_trading-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/meher/Bureau/Projet_trading-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";// import logo from \"../assets/images/logobleu.png\"\nimport'../assets/css/SignIn.css';import axios from'axios';import{OverlayTrigger,Tooltip}from\"react-bootstrap\";import Alert from\"react-bootstrap/Alert\";import ReactLoading from\"react-loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),passwordConfirm=_useState4[0],setPasswordConfirm=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),code=_useState6[0],setCode=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),passwordTest=_useState8[0],setPasswordTest=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),passwordConfirmTest=_useState10[0],setPasswordConfirmTest=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),codeTest=_useState12[0],setcodeTest=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),confirm=_useState14[0],setConfirm=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),msg=_useState16[0],setMsg=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),loading=_useState18[0],setLoading=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),error=_useState20[0],setError=_useState20[1];var history=useHistory();function Login(){if(!password||!passwordConfirm||!code){if(!code){setcodeTest(true);setTimeout(function(){return setcodeTest(false);},1500);}if(!passwordConfirm){setPasswordConfirmTest(true);setTimeout(function(){return setPasswordConfirmTest(false);},1500);}if(!password){setPasswordTest(true);setTimeout(function(){return setPasswordTest(false);},1500);}}else if(password!==passwordConfirm){setConfirm(true);setPasswordConfirmTest(true);setTimeout(function(){return setConfirm(false);},2000);setTimeout(function(){return setPasswordConfirmTest(false);},1500);}else{setLoading(true);axios.post(\"http://back.richmondanalytica.com/auth/client/new-password\",{password:password,token:code}).then(function(res){setMsg(true);setTimeout(function(){return setMsg(false);},1500);setLoading(false);setTimeout(function(){return history.push(\"/login\");},2000);}).catch(function(err){setError(true);setTimeout(function(){return setError(false);},1500);setLoading(false);});}}function ReSend(){axios.post(\"http://back.richmondanalytica.com/auth/client/forgot-password\",{email:localStorage.getItem(\"email\")}).then(function(res){localStorage.removeItem(\"email\");}).catch(function(err){});}return/*#__PURE__*/_jsxs(\"div\",{className:\"loginContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-header\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"signUpLink\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"here\",children:\"Sign Up\"}),\" \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(Alert,{show:msg,variant:\"success\",style:{width:\"500px\",margin:\"auto auto\"},children:\"Password updated\"}),/*#__PURE__*/_jsx(Alert,{show:error,variant:\"danger\",style:{width:\"500px\",margin:\"auto auto\"},children:\"Session expired\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"login-heading\",children:\"Reset code sent\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"login-text\",children:[\"Did not recieve the reset mail ? click \",/*#__PURE__*/_jsx(\"button\",{onClick:ReSend,style:{backgroundColor:\"transparent\",border:\"transparent\"},className:\"here\",children:\"here\"}),\" to resend\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"field-container -username\",children:/*#__PURE__*/_jsx(OverlayTrigger,{delay:{show:250,hide:400},overlay:renderTooltipMissing,show:codeTest,placement:\"top\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"demo\",placeholder:\"Reset code*\",onChange:function onChange(e){setCode(e.target.value);}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"field-container -password\",children:/*#__PURE__*/_jsx(OverlayTrigger,{delay:{show:250,hide:400},overlay:renderTooltipMissing,show:passwordTest,placement:\"top\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"demo\",placeholder:\"New password*\",onChange:function onChange(e){setPassword(e.target.value);}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"field-container -password\",children:/*#__PURE__*/_jsx(OverlayTrigger,{delay:{show:250,hide:400},overlay:confirm===false?renderTooltipMissing:renderTooltip,show:passwordConfirmTest,placement:\"top\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"demo\",placeholder:\"Confirm password*\",onChange:function onChange(e){setPasswordConfirm(e.target.value);}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-custom btn-lg page-scroll loginBtn\",type:\"submit\",onClick:Login,children:loading?/*#__PURE__*/_jsx(ReactLoading,{height:\"20px\",width:\"24px\",color:\"#0283b0\",type:\"spin\"}):\"Confirm\"})]})})]});}var renderTooltip=function renderTooltip(props){return/*#__PURE__*/_jsx(Tooltip,_objectSpread(_objectSpread({id:\"button-tooltip\"},props),{},{children:\"Icompatible passwords\"}));};var renderTooltipMissing=function renderTooltipMissing(props){return/*#__PURE__*/_jsx(Tooltip,_objectSpread(_objectSpread({id:\"button-tooltip\"},props),{},{children:\"Please add all the field\"}));};","map":{"version":3,"sources":["D:/meher/Bureau/Projet_trading-main/src/components/Code.jsx"],"names":["React","useState","Link","useHistory","axios","OverlayTrigger","Tooltip","Alert","ReactLoading","SignIn","password","setPassword","passwordConfirm","setPasswordConfirm","code","setCode","passwordTest","setPasswordTest","passwordConfirmTest","setPasswordConfirmTest","codeTest","setcodeTest","confirm","setConfirm","msg","setMsg","loading","setLoading","error","setError","history","Login","setTimeout","post","token","then","res","push","catch","err","ReSend","email","localStorage","getItem","removeItem","width","margin","backgroundColor","border","show","hide","renderTooltipMissing","e","target","value","renderTooltip","props"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\n// import logo from \"../assets/images/logobleu.png\"\nimport '../assets/css/SignIn.css'\nimport axios from 'axios';\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport Alert from \"react-bootstrap/Alert\";\nimport ReactLoading from \"react-loading\";\nexport default function SignIn() {\n    const [password, setPassword] = useState(\"\")\n    const [passwordConfirm, setPasswordConfirm] = useState(\"\")\n    const [code, setCode] = useState(\"\")\n    const [passwordTest, setPasswordTest] = useState(false)\n    const [passwordConfirmTest, setPasswordConfirmTest] = useState(false)\n    const [codeTest, setcodeTest] = useState(false)\n    const [confirm, setConfirm] = useState(false)\n    const [msg, setMsg] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState(false)\n    const history = useHistory()\n\n    function Login() {\n        if (!password || !passwordConfirm || !code) {\n            if (!code) {\n                setcodeTest(true)\n                setTimeout(() => setcodeTest(false), 1500);\n\n            }\n            if (!passwordConfirm) {\n                setPasswordConfirmTest(true)\n                setTimeout(() => setPasswordConfirmTest(false), 1500);\n\n            }\n            if (!password) {\n                setPasswordTest(true)\n                setTimeout(() => setPasswordTest(false), 1500);\n\n            }\n\n\n\n        }\n        else if (password !== passwordConfirm) {\n            setConfirm(true)\n            setPasswordConfirmTest(true)\n\n            setTimeout(() => setConfirm(false), 2000);\n            setTimeout(() => setPasswordConfirmTest(false), 1500);\n\n        }\n\n\n        else {\n            setLoading(true)\n            axios.post(\"http://back.richmondanalytica.com/auth/client/new-password\", {\n                password: password,\n                token: code\n            }).then(res => {\n                setMsg(true)\n                setTimeout(() => setMsg(false), 1500);\n                setLoading(false)\n                setTimeout(() => history.push(\"/login\"), 2000);\n               \n\n            }).catch(err => {\n                setError(true)\n                setTimeout(() => setError(false), 1500);\n                setLoading(false)\n            })\n        }\n    }\n\n    function ReSend() {\n      \n            axios.post(\"http://back.richmondanalytica.com/auth/client/forgot-password\", {\n                email: localStorage.getItem(\"email\"),\n                \n            }).then(res => {\n                \n                localStorage.removeItem(\"email\")\n    \n            }).catch(err => {\n                \n    \n            })\n\n       \n\n    }\n    return (\n        <div className=\"loginContainer\">\n            <div className=\"login-header\">\n                {/* <img src={logo} className=\"loginLogo\" /> */}\n                <p className=\"signUpLink\">Don't have an account? <Link to=\"/signup\" className=\"here\">Sign Up</Link> </p>\n            </div>\n            <div className=\"login\">\n                <div className=\"login-form\">\n                    <Alert\n\n                        show={msg}\n                        variant={\"success\"}\n                        style={{ width: \"500px\", margin: \"auto auto\" }}\n                    >\n                        {\"Password updated\"}\n                    </Alert>\n                    <Alert\n\n                        show={error}\n                        variant={\"danger\"}\n                        style={{ width: \"500px\", margin: \"auto auto\" }}\n                    >\n                        {\"Session expired\"}\n                    </Alert>\n                    <h1 className=\"login-heading\">Reset code sent\n                    </h1>\n                    <p className=\"login-text\">Did not recieve the reset mail ? click <button onClick={ReSend} style={{backgroundColor:\"transparent\",border:\"transparent\"}}className=\"here\">here</button> to resend</p>\n                    <div className=\"field-container -username\">\n                        <OverlayTrigger\n                            delay={{ show: 250, hide: 400 }}\n                            overlay={renderTooltipMissing}\n                            show={codeTest}\n                            placement=\"top\"\n                        >\n\n                            <input type=\"email\" name=\"demo\" placeholder=\"Reset code*\" onChange={(e) => { setCode(e.target.value) }} />\n                        </OverlayTrigger>\n                    </div>\n                    <div className=\"field-container -password\">\n                        <OverlayTrigger\n                            delay={{ show: 250, hide: 400 }}\n                            overlay={renderTooltipMissing}\n                            show={passwordTest}\n                            placement=\"top\"\n                        >\n                            <input type=\"password\" name=\"demo\" placeholder=\"New password*\" onChange={(e) => { setPassword(e.target.value) }} />\n                        </OverlayTrigger>\n                    </div>\n                    <div className=\"field-container -password\">\n                        <OverlayTrigger\n                            delay={{ show: 250, hide: 400 }}\n                            overlay={confirm === false ? renderTooltipMissing : renderTooltip}\n                            show={passwordConfirmTest}\n                            placement=\"top\"\n                        >\n                            <input type=\"password\" name=\"demo\" placeholder=\"Confirm password*\" onChange={(e) => { setPasswordConfirm(e.target.value) }} />\n                        </OverlayTrigger>\n                    </div>\n                    <div className='btn btn-custom btn-lg page-scroll loginBtn' type=\"submit\" onClick={Login}>{loading ? (<ReactLoading\n                            height={\"20px\"}\n                            width={\"24px\"}\n                            color=\"#0283b0\" \n                        \n                            type=\"spin\"\n                        />\n                    ) : (\n                        \"Confirm\"\n                    )}</div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\n\nconst renderTooltip = (props) => (\n    <Tooltip id=\"button-tooltip\" {...props}>\n        Icompatible passwords\n    </Tooltip>\n);\n\nconst renderTooltipMissing = (props) => (\n    <Tooltip id=\"button-tooltip\" {...props}>\n        Please add all the field\n    </Tooltip>\n);"]},"metadata":{},"sourceType":"module"}