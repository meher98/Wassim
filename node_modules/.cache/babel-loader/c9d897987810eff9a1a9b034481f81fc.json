{"ast":null,"code":"var _jsxFileName = \"D:\\\\meher\\\\Bureau\\\\Projet_trading-main\\\\src\\\\components\\\\Password.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport logo from \"../assets/images/logobleu.png\";\nimport '../assets/css/SignIn.css';\nimport Alert from \"react-bootstrap/Alert\";\nimport ReactLoading from \"react-loading\";\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Password() {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [emailTest, setEmailTest] = useState(false);\n  const [emailTestMissing, setEmailTestMissing] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const history = useHistory();\n\n  function HandleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function Forgot() {\n    if (!email) {\n      setEmailTest(true);\n      setEmailTestMissing(true);\n      setTimeout(() => setEmailTest(false), 1500);\n      setTimeout(() => setEmailTestMissing(false), 2000);\n    } else if (!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\n      setEmailTest(true);\n      setTimeout(() => setEmailTest(false), 1500);\n    } else {\n      setLoading(true);\n      axios.post('https://richmondanalytica.com/back/auth/client/forgot-password', {\n        email: email\n      }).then(res => {\n        setLoading(false);\n        localStorage.setItem(\"email\", email);\n        history.push(\"/codeValidation\");\n      }).catch(err => {\n        setError(true);\n        setLoading(false);\n        setTimeout(() => setError(false), 1500);\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loginContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: () => history.push(\"/\"),\n        src: logo,\n        className: \"loginLogo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"signUpLink\",\n        children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          className: \"here\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 66\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login-form\",\n        children: [/*#__PURE__*/_jsxDEV(Alert, {\n          show: error,\n          variant: \"danger\",\n          style: {\n            width: \"500px\",\n            margin: \"auto auto\"\n          },\n          children: \"Please check your informations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"login-heading\",\n          children: \"Reset your password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"login-text\",\n          children: \"Forgot your password ? Enter your email adress and we will send you a reset code !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field-container -username\",\n          children: /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n            delay: {\n              show: 250,\n              hide: 400\n            },\n            overlay: emailTestMissing === false ? renderTooltip : renderTooltipMissing,\n            show: emailTest,\n            placement: \"top\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"demo\",\n              placeholder: \"Enter your email*\",\n              onChange: e => HandleChangeEmail(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"homeButtom\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn btn-custom btn-lg page-scroll\",\n            onClick: Forgot,\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Password, \"co8mJhMyqTBtVwJC/7hNylDPFuc=\", false, function () {\n  return [useHistory];\n});\n\n_c = Password;\n\nconst renderTooltip = props => /*#__PURE__*/_jsxDEV(Tooltip, {\n  id: \"button-tooltip\",\n  ...props,\n  children: \"Invalid format\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 99,\n  columnNumber: 5\n}, this);\n\nconst renderTooltipMissing = props => /*#__PURE__*/_jsxDEV(Tooltip, {\n  id: \"button-tooltip\",\n  ...props,\n  children: \"Please add all the field\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 105,\n  columnNumber: 5\n}, this);\n\nvar _c;\n\n$RefreshReg$(_c, \"Password\");","map":{"version":3,"sources":["D:/meher/Bureau/Projet_trading-main/src/components/Password.jsx"],"names":["React","useState","Link","useHistory","logo","Alert","ReactLoading","OverlayTrigger","Tooltip","axios","Password","email","setEmail","emailTest","setEmailTest","emailTestMissing","setEmailTestMissing","loading","setLoading","error","setError","history","HandleChangeEmail","e","target","value","Forgot","setTimeout","test","post","then","res","localStorage","setItem","push","catch","err","width","margin","show","hide","renderTooltip","renderTooltipMissing","props"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport logo from \"../assets/images/logobleu.png\"\nimport '../assets/css/SignIn.css'\nimport Alert from \"react-bootstrap/Alert\";\nimport ReactLoading from \"react-loading\";\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport axios from 'axios';\n\nexport default function Password() {\n    const [email, setEmail] = useState(\"\")\n    const [emailTest, setEmailTest] = useState(false)\n    const [emailTestMissing, setEmailTestMissing] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState(false)\n    const history = useHistory()\n\n    function HandleChangeEmail(e) {\n        setEmail(e.target.value)\n    }\n    function Forgot() {\n\n        if (!email) {\n            setEmailTest(true)\n            setEmailTestMissing(true)\n            setTimeout(() => setEmailTest(false), 1500);\n            setTimeout(() => setEmailTestMissing(false), 2000);\n        }\n\n        else if ((!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))) {\n            setEmailTest(true)\n            setTimeout(() => setEmailTest(false), 1500);\n        }\n\n\n        else {\n            setLoading(true)\n            axios.post('https://richmondanalytica.com/back/auth/client/forgot-password', {\n                email: email\n            }).then(res => {\n                setLoading(false)\n                localStorage.setItem(\"email\", email)\n                history.push(\"/codeValidation\")\n\n\n            }).catch(err => {\n                setError(true)\n                setLoading(false)\n                setTimeout(() => setError(false), 1500);\n\n            })\n        }\n\n\n    }\n    return (\n        <div className=\"loginContainer\">\n            <div className=\"login-header\">\n                <img onClick={() => history.push(\"/\")} src={logo} className=\"loginLogo\" />\n                <p className=\"signUpLink\">Don't have an account? <Link to=\"/signup\" className=\"here\">Sign Up</Link> </p>\n            </div>\n            <div className=\"login\">\n                <form className=\"login-form\">\n                    <Alert\n\n                        show={error}\n                        variant={\"danger\"}\n                        style={{ width: \"500px\", margin: \"auto auto\" }}\n                    >\n                        {\"Please check your informations\"}\n                    </Alert>\n                    <h1 className=\"login-heading\">Reset your password\n                    </h1>\n                    <p className=\"login-text\">Forgot your password ? Enter your email\n                        adress and we will send you a reset code !</p>\n                    <div className=\"field-container -username\">\n                        <OverlayTrigger\n                            delay={{ show: 250, hide: 400 }}\n                            overlay={emailTestMissing === false ? renderTooltip : renderTooltipMissing}\n                            show={emailTest}\n                            placement=\"top\"\n                        >\n                            <input type=\"email\" name=\"demo\" placeholder=\"Enter your email*\" onChange={(e) => HandleChangeEmail(e)} />\n                        </OverlayTrigger>\n                    </div>\n                    <div className=\"homeButtom\">\n                        <div className='btn btn-custom btn-lg page-scroll' onClick={Forgot}\n\n                        >Confirm</div>\n                    </div>\n\n                </form>\n            </div>\n        </div>\n    )\n}\n\nconst renderTooltip = (props) => (\n    <Tooltip id=\"button-tooltip\" {...props}>\n        Invalid format\n    </Tooltip>\n);\n\nconst renderTooltipMissing = (props) => (\n    <Tooltip id=\"button-tooltip\" {...props}>\n        Please add all the field\n    </Tooltip>\n);"]},"metadata":{},"sourceType":"module"}