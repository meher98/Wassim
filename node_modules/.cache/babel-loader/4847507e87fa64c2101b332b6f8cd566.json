{"ast":null,"code":"import _objectSpread from\"D:/meher/Bureau/Projet_trading-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/meher/Bureau/Projet_trading-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";import logo from\"../assets/images/logobleu.png\";import'../assets/css/SignIn.css';import Alert from\"react-bootstrap/Alert\";import ReactLoading from\"react-loading\";import{OverlayTrigger,Tooltip}from\"react-bootstrap\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Password(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),emailTest=_useState4[0],setEmailTest=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),emailTestMissing=_useState6[0],setEmailTestMissing=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var history=useHistory();function HandleChangeEmail(e){setEmail(e.target.value);}function Forgot(){if(!email){setEmailTest(true);setEmailTestMissing(true);setTimeout(function(){return setEmailTest(false);},1500);setTimeout(function(){return setEmailTestMissing(false);},2000);}else if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){setEmailTest(true);setTimeout(function(){return setEmailTest(false);},1500);}else{setLoading(true);axios.post('http://localhost:3001/auth/client/forgot-password',{email:email}).then(function(res){setLoading(false);localStorage.setItem(\"email\",email);history.push(\"/codeValidation\");}).catch(function(err){setError(true);setLoading(false);setTimeout(function(){return setError(false);},1500);});}}return/*#__PURE__*/_jsxs(\"div\",{className:\"loginContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return history.push(\"/\");},src:logo,className:\"loginLogo\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"signUpLink\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"here\",children:\"Sign Up\"}),\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(Alert,{show:error,variant:\"danger\",style:{width:\"500px\",margin:\"auto auto\"},children:\"Please check your informations\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"login-heading\",children:\"Reset your password\"}),/*#__PURE__*/_jsx(\"p\",{className:\"login-text\",children:\"Forgot your password ? Enter your email adress and we will send you a reset code !\"}),/*#__PURE__*/_jsx(\"div\",{className:\"field-container -username\",children:/*#__PURE__*/_jsx(OverlayTrigger,{delay:{show:250,hide:400},overlay:emailTestMissing===false?renderTooltip:renderTooltipMissing,show:emailTest,placement:\"top\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"demo\",placeholder:\"Enter your email*\",onChange:function onChange(e){return HandleChangeEmail(e);}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"homeButtom\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-custom btn-lg page-scroll\",onClick:Forgot,children:\"Confirm\"})})]})})]});}var renderTooltip=function renderTooltip(props){return/*#__PURE__*/_jsx(Tooltip,_objectSpread(_objectSpread({id:\"button-tooltip\"},props),{},{children:\"Invalid format\"}));};var renderTooltipMissing=function renderTooltipMissing(props){return/*#__PURE__*/_jsx(Tooltip,_objectSpread(_objectSpread({id:\"button-tooltip\"},props),{},{children:\"Please add all the field\"}));};","map":{"version":3,"sources":["D:/meher/Bureau/Projet_trading-main/src/components/Password.jsx"],"names":["React","useState","Link","useHistory","logo","Alert","ReactLoading","OverlayTrigger","Tooltip","axios","Password","email","setEmail","emailTest","setEmailTest","emailTestMissing","setEmailTestMissing","loading","setLoading","error","setError","history","HandleChangeEmail","e","target","value","Forgot","setTimeout","test","post","then","res","localStorage","setItem","push","catch","err","width","margin","show","hide","renderTooltip","renderTooltipMissing","props"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport logo from \"../assets/images/logobleu.png\"\nimport '../assets/css/SignIn.css'\nimport Alert from \"react-bootstrap/Alert\";\nimport ReactLoading from \"react-loading\";\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport axios from 'axios';\n\nexport default function Password() {\n    const [email, setEmail] = useState(\"\")\n    const [emailTest, setEmailTest] = useState(false)\n    const [emailTestMissing, setEmailTestMissing] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState(false)\n    const history = useHistory()\n\n    function HandleChangeEmail(e) {\n        setEmail(e.target.value)\n    }\n    function Forgot() {\n\n        if (!email) {\n            setEmailTest(true)\n            setEmailTestMissing(true)\n            setTimeout(() => setEmailTest(false), 1500);\n            setTimeout(() => setEmailTestMissing(false), 2000);\n        }\n\n        else if ((!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))) {\n            setEmailTest(true)\n            setTimeout(() => setEmailTest(false), 1500);\n        }\n\n\n        else {\n            setLoading(true)\n            axios.post('http://localhost:3001/auth/client/forgot-password', {\n                email: email\n            }).then(res => {\n                setLoading(false)\n                localStorage.setItem(\"email\", email)\n                history.push(\"/codeValidation\")\n\n\n            }).catch(err => {\n                setError(true)\n                setLoading(false)\n                setTimeout(() => setError(false), 1500);\n\n            })\n        }\n\n\n    }\n    return (\n        <div className=\"loginContainer\">\n            <div className=\"login-header\">\n                <img onClick={() => history.push(\"/\")} src={logo} className=\"loginLogo\" />\n                <p className=\"signUpLink\">Don't have an account? <Link to=\"/signup\" className=\"here\">Sign Up</Link> </p>\n            </div>\n            <div className=\"login\">\n                <form className=\"login-form\">\n                    <Alert\n\n                        show={error}\n                        variant={\"danger\"}\n                        style={{ width: \"500px\", margin: \"auto auto\" }}\n                    >\n                        {\"Please check your informations\"}\n                    </Alert>\n                    <h1 className=\"login-heading\">Reset your password\n                    </h1>\n                    <p className=\"login-text\">Forgot your password ? Enter your email\n                        adress and we will send you a reset code !</p>\n                    <div className=\"field-container -username\">\n                        <OverlayTrigger\n                            delay={{ show: 250, hide: 400 }}\n                            overlay={emailTestMissing === false ? renderTooltip : renderTooltipMissing}\n                            show={emailTest}\n                            placement=\"top\"\n                        >\n                            <input type=\"email\" name=\"demo\" placeholder=\"Enter your email*\" onChange={(e) => HandleChangeEmail(e)} />\n                        </OverlayTrigger>\n                    </div>\n                    <div className=\"homeButtom\">\n                        <div className='btn btn-custom btn-lg page-scroll' onClick={Forgot}\n\n                        >Confirm</div>\n                    </div>\n\n                </form>\n            </div>\n        </div>\n    )\n}\n\nconst renderTooltip = (props) => (\n    <Tooltip id=\"button-tooltip\" {...props}>\n        Invalid format\n    </Tooltip>\n);\n\nconst renderTooltipMissing = (props) => (\n    <Tooltip id=\"button-tooltip\" {...props}>\n        Please add all the field\n    </Tooltip>\n);"]},"metadata":{},"sourceType":"module"}