{"ast":null,"code":"import _objectSpread from\"D:/meher/Bureau/Projet_trading-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/meher/Bureau/Projet_trading-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";import logo from\"../assets/images/logobleu.png\";import'../assets/css/SignIn.css';import axios from'axios';import{OverlayTrigger,Tooltip}from\"react-bootstrap\";import Alert from\"react-bootstrap/Alert\";import ReactLoading from\"react-loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(){var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),passwordTest=_useState6[0],setPasswordTest=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),emailTest=_useState8[0],setEmailTest=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),emailTestMissing=_useState10[0],setEmailTestMissing=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),error=_useState14[0],setError=_useState14[1];function HandleChangeEmail(e){setEmail(e.target.value);}function Login(){if(!password||!email){if(!password){setPasswordTest(true);setTimeout(function(){return setPasswordTest(false);},1500);}if(!email){setEmailTest(true);setEmailTestMissing(true);setTimeout(function(){return setEmailTest(false);},1500);setTimeout(function(){return setEmailTestMissing(false);},2000);}if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){setEmailTest(true);setTimeout(function(){return setEmailTest(false);},1500);}}else if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){setEmailTest(true);setTimeout(function(){return setEmailTest(false);},1500);}else{setLoading(true);axios.post('http://back.richmondanalytica.com/auth/client/login',{email:email,password:password}).then(function(res){setLoading(false);history.push(\"/\");localStorage.setItem(\"jwt\",res.data.token);}).catch(function(err){setError(true);setLoading(false);setTimeout(function(){return setError(false);},1500);});}}return/*#__PURE__*/_jsxs(\"div\",{className:\"loginContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return history.push(\"/\");},src:logo,className:\"loginLogo\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"signUpLink\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"here\",children:\"Sign Up\"}),\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(Alert,{show:error,variant:\"danger\",style:{width:\"100%\",margin:\"auto auto\"},children:\"Please check your informations\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"login-heading\",children:\"Welcome Back\"}),/*#__PURE__*/_jsx(\"p\",{className:\"login-text\",children:\"We are happy to see you again\"}),/*#__PURE__*/_jsx(\"div\",{className:\"field-container -username\",children:/*#__PURE__*/_jsx(OverlayTrigger,{delay:{show:250,hide:400},overlay:emailTestMissing===false?renderTooltip:renderTooltipMissing,show:emailTest,placement:\"top\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Enter your email*\",onChange:function onChange(e){return HandleChangeEmail(e);}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"field-container -password\",children:/*#__PURE__*/_jsx(OverlayTrigger,{delay:{show:250,hide:400},overlay:renderTooltipMissing,show:passwordTest,placement:\"top\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter your password*\",onChange:function onChange(e){return setPassword(e.target.value);}})})}),/*#__PURE__*/_jsxs(\"p\",{className:\"forgotPassword\",children:[\"Forgot your password? Click \",/*#__PURE__*/_jsx(Link,{to:\"/resetPassword\",className:\"here\",children:\"here\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-custom btn-lg page-scroll loginBtn\",type:\"submit\",onClick:Login,children:loading?/*#__PURE__*/_jsx(ReactLoading,{height:\"26px\",width:\"24px\",color:\"white\",type:\"spin\"}):\"Sign In\"})]})})]});}var renderTooltip=function renderTooltip(props){return/*#__PURE__*/_jsx(Tooltip,_objectSpread(_objectSpread({id:\"button-tooltip\"},props),{},{children:\"Invalid format\"}));};var renderTooltipMissing=function renderTooltipMissing(props){return/*#__PURE__*/_jsx(Tooltip,_objectSpread(_objectSpread({id:\"button-tooltip\"},props),{},{children:\"Please add all the fields\"}));};","map":{"version":3,"sources":["D:/meher/Bureau/Projet_trading-main/src/components/SignIn.jsx"],"names":["React","useState","Link","useHistory","logo","axios","OverlayTrigger","Tooltip","Alert","ReactLoading","SignIn","history","email","setEmail","password","setPassword","passwordTest","setPasswordTest","emailTest","setEmailTest","emailTestMissing","setEmailTestMissing","loading","setLoading","error","setError","HandleChangeEmail","e","target","value","Login","setTimeout","test","post","then","res","push","localStorage","setItem","data","token","catch","err","width","margin","show","hide","renderTooltip","renderTooltipMissing","props"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport logo from \"../assets/images/logobleu.png\"\nimport '../assets/css/SignIn.css'\nimport axios from 'axios';\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport ReactLoading from \"react-loading\";\nexport default function SignIn() {\n    const history = useHistory()\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [passwordTest, setPasswordTest] = useState(false)\n    const [emailTest, setEmailTest] = useState(false)\n    const [emailTestMissing, setEmailTestMissing] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState(false)\n\n    function HandleChangeEmail(e) {\n        setEmail(e.target.value)\n    }\n    function Login() {\n        if (!password || !email) {\n            if (!password) {\n                setPasswordTest(true)\n                setTimeout(() => setPasswordTest(false), 1500);\n            }\n            if (!email) {\n                setEmailTest(true)\n                setEmailTestMissing(true)\n                setTimeout(() => setEmailTest(false), 1500);\n                setTimeout(() => setEmailTestMissing(false), 2000);\n            }\n            if ((!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))) {\n                setEmailTest(true)\n                setTimeout(() => setEmailTest(false), 1500);\n            }\n\n        }\n        else if ((!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))) {\n            setEmailTest(true)\n            setTimeout(() => setEmailTest(false), 1500);\n        }\n\n\n        else {\n            setLoading(true)\n            axios.post('http://back.richmondanalytica.com/auth/client/login', {\n                email: email,\n                password: password\n            }).then(res => {\n                setLoading(false)\n                history.push(\"/\")\n                localStorage.setItem(\"jwt\", res.data.token)\n\n\n            }).catch(err => {\n                setError(true)\n                setLoading(false)\n                setTimeout(() => setError(false), 1500);\n\n            })\n        }\n    }\n    return (\n        <div className=\"loginContainer\">\n            <div className=\"login-header\">\n                <img onClick={() => history.push(\"/\")} src={logo} className=\"loginLogo\" />\n                <p className=\"signUpLink\">Don't have an account? <Link to=\"/signup\" className=\"here\">Sign Up</Link> </p>\n            </div>\n            <div className=\"login\">\n\n                <form className=\"login-form\"  >\n                    <Alert\n\n                        show={error}\n                        variant={\"danger\"}\n                        style={{ width: \"100%\", margin: \"auto auto\" }}\n                    >\n                        {\"Please check your informations\"}\n                    </Alert>\n                    <h1 className=\"login-heading\">Welcome Back</h1>\n                    <p className=\"login-text\">We are happy to see you again</p>\n                    <div className=\"field-container -username\">\n\n\n                        <OverlayTrigger\n                            delay={{ show: 250, hide: 400 }}\n                            overlay={emailTestMissing === false ? renderTooltip : renderTooltipMissing}\n                            show={emailTest}\n                            placement=\"top\"\n                        >\n                            <input type=\"email\" placeholder=\"Enter your email*\" onChange={(e) => HandleChangeEmail(e)} />\n                        </OverlayTrigger>\n\n                    </div>\n                    <div className=\"field-container -password\">\n                        <OverlayTrigger\n                            delay={{ show: 250, hide: 400 }}\n                            overlay={renderTooltipMissing}\n                            show={passwordTest}\n                            placement=\"top\"\n\n                        >\n                            <input type=\"password\" placeholder=\"Enter your password*\" onChange={(e) => setPassword(e.target.value)} />\n                        </OverlayTrigger>\n                    </div>\n                    <p className=\"forgotPassword\">Forgot your password? Click <Link to=\"/resetPassword\" className=\"here\">here</Link></p>\n                    <div className='btn btn-custom btn-lg page-scroll loginBtn' type=\"submit\" onClick={Login} >{loading ? (\n                        <ReactLoading\n                            height={\"26px\"}\n                            width={\"24px\"}\n                            color=\"white\"\n\n                            type=\"spin\"\n                        />\n                    ) : (\n                        \"Sign In\"\n                    )}</div>\n                </form>\n            </div>\n        </div>\n    )\n\n}\n\n\nconst renderTooltip = (props) => (\n    <Tooltip id=\"button-tooltip\" {...props}>\n        Invalid format\n    </Tooltip>\n);\n\nconst renderTooltipMissing = (props) => (\n    <Tooltip id=\"button-tooltip\" {...props}>\n        Please add all the fields\n    </Tooltip>\n);"]},"metadata":{},"sourceType":"module"}